import { createSlice , current} from "@reduxjs/toolkit";


const UserSlice = createSlice({
    name:'users',
    initialState:JSON.parse(localStorage.getItem("Users"))?JSON.parse(localStorage.getItem("Users")):[],
    reducers :{
        addUser: (state, action)=>{
            state.push(action.payload)
            //console.log("state is", current(state)); // "State er data k directly access kora jayna bcz ekhane promise handle hoy tai "current" function use korle amra data k directly access korte parbo "
            let userData = JSON.stringify(current(state));
            localStorage.setItem("Users", userData);
        },
        removeUser:(state, action)=>{
            state.splice(action.payload,1);
            let userData = JSON.stringify(current(state));
            localStorage.setItem("Users", userData);
        },
        deleteAllUser:(state)=>{
            localStorage.removeItem("Users");
            return state = []
        },
    }
})

export const { addUser , removeUser , deleteAllUser} = UserSlice.actions;
export default UserSlice.reducer;


























































































































































































































































































